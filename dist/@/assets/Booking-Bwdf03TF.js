import{j as e,f as l,r as x}from"./index-Cv0MCJep.js";import{e as m}from"./Layout-D-JsJcP2.js";import"./react-tooltip.min-CdAfhqXP.js";import{S as h}from"./sweetalert2.esm.all-B0Dix5B2.js";import{n as p,a as d}from"./toast-DkhCIWt5.js";import{A as f}from"./AnimatedContent-f_qjIjlx.js";import{U as j}from"./UploadMany-DBR_b3kP.js";import{P as u}from"./PageTitle-CDKo5HT-.js";import{a as b}from"./useGetDatas-DUx7WE11.js";import"./iconBase-CHzXLRSI.js";/* empty css                      */import"./exportFromJSON-BvevaQwb.js";import"./spinner-CkndCogW.js";import"./ProductServices-8BRK73zt.js";const C=({BookingList:r=[],isLoading:t,refetch:i})=>{console.log("Booking List",r);const o=async s=>{h.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async n=>{if(n.isConfirmed)try{(await axiosPublic.delete(`/booking/delete/${s}`)).status===200?(p("Booking deleted successfully!"),i()):d("Failed to delete booking.")}catch(a){d("Error deleting booking."),console.error("Error deleting booking:",a)}})};return t?e.jsx("h1",{children:"Loading..."}):r.length?e.jsx(l.TableBody,{children:r.map(s=>e.jsxs(l.TableRow,{children:[e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s.id}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s.date}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s.personName}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s.phoneNumber}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s==null?void 0:s.email}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s.city}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s.place}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s.eventType}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s.peopleNum}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s.address}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s.description}),e.jsx(l.TableCell,{children:e.jsx(l.Button,{onClick:()=>o(s.id),className:"p-2 cursor-pointer text-gray-400 hover:text-red-600",children:e.jsx(m,{})})})]},s.id))}):e.jsx("h1",{children:"No Bookings Found"})},O=()=>{const{data:r,isLoading:t,refetch:i}=b("/booking","booking"),[o,s]=x.useState("");if(t)return e.jsx("h1",{children:"Loading..."});const n=r==null?void 0:r.filter(a=>Object.values(a).some(c=>c==null?void 0:c.toString().toLowerCase().includes(o.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(u,{children:"Book List"}),e.jsxs(f,{children:[e.jsx(l.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsx(l.CardBody,{className:"flex gap-96",children:e.jsx(j,{title:"Booking",exportData:r})})}),e.jsx(l.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsxs(l.CardBody,{className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:[e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(l.Input,{type:"search",placeholder:"Search Booking...",value:o,onChange:a=>s(a.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"flex items-center gap-2 flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx("div",{className:"w-1/3",children:e.jsx(l.Button,{onClick:()=>s(""),type:"submit",className:"h-12 w-full bg-emerald-700",children:"Reset"})})})]})}),e.jsx(l.TableContainer,{children:e.jsxs(l.Table,{children:[e.jsx(l.TableHeader,{children:e.jsxs("tr",{children:[e.jsxs(l.TableCell,{children:["Id"," "]}),e.jsx(l.TableCell,{children:"DATE"}),e.jsx(l.TableCell,{children:"NAME"}),e.jsx(l.TableCell,{children:"PHONE"}),e.jsx(l.TableCell,{children:"EMAIL"}),e.jsx(l.TableCell,{children:"CITY"}),e.jsx(l.TableCell,{children:"PLACE"}),e.jsx(l.TableCell,{children:"EVENT_TYPE"}),e.jsx(l.TableCell,{children:"PEOPLE"}),e.jsx(l.TableCell,{children:"ADDRESS"}),e.jsx(l.TableCell,{children:"DESCRIPTION"}),e.jsx(l.TableCell,{children:"ACTION"})]})}),e.jsx(C,{BookingList:n,isLoading:t,refetch:i})]})})]})]})};export{O as default};

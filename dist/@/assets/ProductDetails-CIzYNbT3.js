import{j as e,f as l,s as P,i as k,r as j,S as T}from"./index-Cv0MCJep.js";import{u as C}from"./useAsync-Dx79ITIc.js";import{u as w}from"./useFilter-BVpARHJI.js";import{u as S,P as v}from"./ProductDrawer-BUBDSLx0.js";import{u as B}from"./useToggleDrawer-C1UtrQV4.js";import{P as F}from"./ProductServices-8BRK73zt.js";import{u as b}from"./Layout-D-JsJcP2.js";import{M as A}from"./MainDrawer-D7Kypkxo.js";import{L as I}from"./Loading-B8HNEKEf.js";import{P as f}from"./PageTitle-CDKo5HT-.js";import"./browser-DAe6cXmg.js";import"./index-CgSWhKad.js";import"./useDisableForDemo-DndbcQrQ.js";/* empty css                      */import"./CustomerServices-RCtKxH8V.js";import"./CouponServices-Bwlwibye.js";import"./CurrencyServices-BK8AbJu1.js";import"./toast-DkhCIWt5.js";import"./index-LNM3yfuz.js";import"./quill.snow-5yXoS7a5.js";import"./Error-DhTYXBCu.js";import"./InputArea-C4k6rcIG.js";import"./LabelArea-Bb7qUJrU.js";import"./InputValue-Caa3aWbn.js";import"./index.esm-CtzVagC9.js";import"./useTranslationValue-BxYdltS6.js";import"./useGetDatas-DUx7WE11.js";import"./iconBase-CHzXLRSI.js";import"./spinner-CkndCogW.js";const D=({variants:i,variantTitle:r})=>{const{showingTranslateValue:h,currency:n,getNumberTwo:u}=b();return e.jsx(e.Fragment,{children:e.jsx(l.TableBody,{children:i==null?void 0:i.map((t,s)=>{var m;return e.jsxs(l.TableRow,{children:[e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:s+1}),e.jsx(l.TableCell,{children:e.jsx("div",{className:"flex items-center",children:t.image?e.jsx(l.Avatar,{className:"hidden p-1 mr-2 md:block bg-gray-50 shadow-none",src:t.image,alt:"product"}):e.jsx(l.Avatar,{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product",className:"hidden p-1 mr-2 md:block bg-gray-50 shadow-none"})})}),e.jsx(l.TableCell,{children:e.jsxs("div",{className:"flex flex-col text-sm",children:[e.jsx("span",{children:(m=r==null?void 0:r.map(o=>{var x,p;const a=(x=o==null?void 0:o.variants)==null?void 0:x.filter(d=>(d==null?void 0:d.name)!=="All"),c=(p=a==null?void 0:a.find(d=>d._id===t[o==null?void 0:o._id]))==null?void 0:p.name;return c===void 0?c==null?void 0:c.en:h(c)}))==null?void 0:m.filter(Boolean).join(" ")}),t.productId&&e.jsxs("span",{className:"text-xs text-gray-500",children:["(",t.productId,")"]})]})}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:t.sku}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:t.barcode}),e.jsxs(l.TableCell,{className:"font-semibold uppercase text-xs",children:[n,u(t.originalPrice)]}),e.jsxs(l.TableCell,{className:"font-semibold uppercase text-xs",children:[n,u(t.price)]}),e.jsx(l.TableCell,{className:"font-semibold uppercase text-xs",children:t.quantity})]},s+1)})})})},ce=()=>{var g;const{id:i}=P(),{t:r}=k(),{handleUpdate:h}=B();S(i);const[n,u]=j.useState([]),{lang:t}=j.useContext(T),{data:s,loading:m}=C(()=>F.getProductById(i)),{currency:o,showingTranslateValue:a}=b(),{handleChangePage:c,totalResults:x,resultsPerPage:p,dataTable:d}=w(s==null?void 0:s.variants);return console.log("product",s),e.jsxs(e.Fragment,{children:[e.jsx(A,{product:!0,children:e.jsx(v,{id:i})}),e.jsx(f,{children:r("ProductDetails")}),m?e.jsx(I,{loading:m}):e.jsx("div",{className:"inline-block overflow-y-auto h-full align-middle transition-all transform",children:e.jsxs("div",{className:"flex flex-col lg:flex-row md:flex-row w-full overflow-hidden",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center justify-center h-auto",children:s!=null&&s.image[0]?e.jsx("img",{src:s==null?void 0:s.image[0],alt:"product",className:"h-64 w-64"}):e.jsx("img",{src:"https://res.cloudinary.com/ahossain/image/upload/v1655097002/placeholder_kvepfp.png",alt:"product"})}),e.jsxs("div",{className:"w-full flex flex-col p-5 md:p-8 text-left",children:[e.jsxs("div",{className:"mb-5 block ",children:[e.jsx("div",{className:"font-serif font-semibold py-1 text-sm",children:e.jsxs("p",{className:"text-sm text-gray-500 pr-4",children:[r("Status"),":"," ",s.status==="show"?e.jsx("span",{className:"text-emerald-400",children:r("ThisProductShowing")}):e.jsx("span",{className:"text-red-400",children:r("ThisProductHidden")})]})}),e.jsx("h2",{className:"text-heading text-lg md:text-xl lg:text-2xl font-semibold font-serif dark:text-gray-400",children:a(s==null?void 0:s.title)}),e.jsxs("p",{className:"uppercase font-serif font-medium text-gray-500 dark:text-gray-400 text-sm",children:[r("Sku")," :"," ",e.jsx("span",{className:"font-bold text-gray-500 dark:text-gray-500",children:s==null?void 0:s.sku})]})]}),e.jsx("div",{className:"font-serif product-price font-bold dark:text-gray-400",children:e.jsx("span",{className:"inline-block text-2xl",children:e.jsxs("h1",{children:["Purchase Price: ",s.purchasePrice," "]})})}),e.jsx("div",{className:"font-serif product-price font-bold dark:text-gray-400",children:e.jsx("span",{className:"inline-block text-2xl",children:e.jsxs("h1",{children:["Sale Price: ",s.salesPrice," "]})})}),e.jsxs("div",{className:"mb-3",children:[(s==null?void 0:s.stock)<=0?e.jsxs(l.Badge,{type:"danger",children:[e.jsx("span",{className:"font-bold",children:r("StockOut")})," "]}):e.jsxs(l.Badge,{type:"success",children:[" ",e.jsx("span",{className:"font-bold",children:r("InStock")})]}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium pl-4",children:[r("Quantity"),": ",s==null?void 0:s.stock]})]}),e.jsx("p",{className:"text-sm leading-6 text-gray-500 dark:text-gray-400 md:leading-7",children:a(s==null?void 0:s.description)}),e.jsxs("div",{className:"flex flex-col mt-4",children:[e.jsxs("p",{className:"font-serif font-semibold py-1 text-gray-500 text-sm",children:[e.jsxs("span",{className:"text-gray-700 dark:text-gray-400",children:[r("Category"),":"," "]})," ",a((g=s==null?void 0:s.category)==null?void 0:g.name)]}),e.jsx("div",{className:"flex flex-row",children:JSON.parse(s==null?void 0:s.tag).map((y,N)=>e.jsx("span",{className:"bg-gray-200 mr-2 border-0 text-gray-500 rounded-full inline-flex items-center justify-center px-2 py-1 text-xs font-semibold font-serif mt-2 dark:bg-gray-700 dark:text-gray-300",children:y},N+1))})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>h(i),className:"cursor-pointer leading-5 transition-colors duration-150 font-medium text-sm focus:outline-none px-5 py-2 rounded-md text-white bg-emerald-500 border border-transparent active:bg-emerald-600 hover:bg-emerald-600 ",children:r("EditProduct")})})]})]})}),(s==null?void 0:s.isCombination)&&(n==null?void 0:n.length)>0&&!m&&e.jsxs(e.Fragment,{children:[e.jsx(f,{children:r("ProductVariantList")}),e.jsxs(l.TableContainer,{className:"mb-8 rounded-b-lg",children:[e.jsxs(l.Table,{children:[e.jsx(l.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(l.TableCell,{children:r("SR")}),e.jsx(l.TableCell,{children:r("Image")}),e.jsx(l.TableCell,{children:r("Combination")}),e.jsx(l.TableCell,{children:r("Sku")}),e.jsx(l.TableCell,{children:r("Barcode")}),e.jsx(l.TableCell,{children:r("OrginalPrice")}),e.jsx(l.TableCell,{children:r("SalePrice")}),e.jsx(l.TableCell,{children:r("Quantity")})]})}),e.jsx(D,{lang:t,variants:d,currency:o,variantTitle:n})]}),e.jsx(l.TableFooter,{children:e.jsx(l.Pagination,{totalResults:x,resultsPerPage:p,onChange:c,label:"Product Page Navigation"})})]})]})]})};export{ce as default};

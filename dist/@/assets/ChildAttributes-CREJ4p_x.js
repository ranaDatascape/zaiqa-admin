import{j as e,f as s,s as U,r as u,S as H,k as O}from"./index-Cv0MCJep.js";import{S as q,u as k,h as z,f as G,g as J,e as K}from"./Layout-D-JsJcP2.js";import{u as B}from"./useToggleDrawer-C1UtrQV4.js";import{D as Q,M as F}from"./MainDrawer-D7Kypkxo.js";import{C as P}from"./CheckBox-BjUk9WJe.js";import{D as E}from"./DeleteModal-BtvCN7mm.js";import{E as W}from"./EditDeleteButton-ie0-NJtD.js";import{S as X}from"./ShowHideButton-B7DJuapM.js";import{T}from"./Title-6CzNxVGl.js";import{E as C}from"./Error-DhTYXBCu.js";import{I as Y}from"./InputArea-C4k6rcIG.js";import{L as S}from"./LabelArea-Bb7qUJrU.js";import{S as Z}from"./SwitchToggle-CYdqVLVE.js";import{u as $}from"./useAttributeSubmit-p7zoCfQt.js";import{B as ee}from"./BulkActionDrawer-BLTFmZ0T.js";import{L as se}from"./Loading-B8HNEKEf.js";import{N as le}from"./NotFound-Kgr5jKYC.js";import{P as re}from"./PageTitle-CDKo5HT-.js";import{u as v}from"./useAsync-Dx79ITIc.js";import{u as te}from"./useFilter-BVpARHJI.js";import{A as D}from"./CustomerServices-RCtKxH8V.js";import{A as ae}from"./AnimatedContent-f_qjIjlx.js";import"./iconBase-CHzXLRSI.js";/* empty css                      */import"./spinner-CkndCogW.js";import"./AdminServices-DHiG2Q7Q.js";import"./CouponServices-Bwlwibye.js";import"./ProductServices-8BRK73zt.js";import"./CurrencyServices-BK8AbJu1.js";import"./toast-DkhCIWt5.js";import"./useDisableForDemo-DndbcQrQ.js";import"./Tooltip-BAEq7O6p.js";import"./react-tooltip.min-CdAfhqXP.js";import"./index.prod-dN6d4wYn.js";import"./SelectLanguageTwo-DQqql4G2.js";import"./index.esm-CtzVagC9.js";import"./useTranslationValue-BxYdltS6.js";import"./index-LNM3yfuz.js";import"./Tree-B5pXmuyD.js";import"./TextAreaCom-BOROZaGH.js";import"./browser-DAe6cXmg.js";import"./index-CgSWhKad.js";const I=({id:a})=>{const{handleSubmit:j,onSubmits:t,register:i,errors:o,published:x,isSubmitting:d,setPublished:r,handleSelectLanguage:n}=$(a);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full relative p-6 border-b border-gray-100 bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300",children:a?e.jsx(T,{register:i,handleSelectLanguage:n,title:"Add/Update Attribute Valu",description:"Add your attribute values and necessary information from here"}):e.jsx(T,{register:i,handleSelectLanguage:n,title:"Add/Update Attribute Values",description:"Add your attribute values and necessary information from here"})}),e.jsx(q,{className:"w-full md:w-7/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200",children:e.jsxs("form",{onSubmit:j(t),children:[e.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full pb-40",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 items-center",children:[e.jsx(S,{label:"Display Name"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(Y,{required:!0,register:i,label:"Display Name",name:"name",type:"text",placeholder:"Color or Size or Dimension or Material or Fabric"}),e.jsx(C,{errorName:o.name})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 md:gap-5 xl:gap-6 lg:gap-6 mb-6 items-center",children:[e.jsx(S,{label:"Published"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4",children:[e.jsx(Z,{handleProcess:r,processOption:x}),e.jsx(C,{errorName:o.published})]})]})]}),e.jsx(Q,{id:a,title:"Attribute",isSubmitting:d})]})})]})},ie=({att:a,loading:j,isCheck:t,setIsCheck:i,childAttributes:o})=>{const{title:x,serviceId:d,handleModalOpen:r,handleUpdate:n}=B(),{showingTranslateValue:p}=k(),f=l=>{const{id:m,checked:c}=l.target;i([...t,m]),c||i(t.filter(N=>N!==m))};return e.jsxs(e.Fragment,{children:[t.length<1&&e.jsx(E,{id:d,title:x}),t.length<2&&e.jsx(F,{children:e.jsx(I,{id:d})}),e.jsx(s.TableBody,{children:o==null?void 0:o.map((l,m)=>{var c;return e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{children:e.jsx(P,{type:"checkbox",name:"child-attribute",id:l._id,handleClick:f,isChecked:t==null?void 0:t.includes(l._id)})}),e.jsx(s.TableCell,{className:"font-semibold uppercase text-xs",children:(c=l==null?void 0:l._id)==null?void 0:c.substring(20,24)}),e.jsx(s.TableCell,{className:"font-medium text-sm",children:p(l==null?void 0:l.name)}),e.jsx(s.TableCell,{className:"font-medium text-sm",children:a==null?void 0:a.option}),e.jsx(s.TableCell,{className:"text-center",children:e.jsx(X,{id:l._id,status:l.status})}),e.jsx(s.TableCell,{children:e.jsx(W,{id:l._id,isCheck:t,setIsCheck:i,handleUpdate:n,handleModalOpen:r,title:p(l.name)})})]},m+1)})})]})},We=()=>{let{id:a}=U();const{handleDeleteMany:j,allId:t,serviceId:i,handleUpdateMany:o}=B(),{toggleDrawer:x,lang:d}=u.useContext(H),{data:r,loading:n,error:p}=v(()=>D.getAttributeById(a)),{showingTranslateValue:f}=k(),{data:l}=v(()=>D.getAllAttributes({type:"attribute",option:"Dropdown",option1:"Radio"})),{totalResults:m,resultsPerPage:c,dataTable:N,serviceData:A,handleChangePage:V}=te(r==null?void 0:r.variants),[w,M]=u.useState(!1),[h,g]=u.useState([]),[_,L]=u.useState([]),R=()=>{var b;M(!w),g((b=r==null?void 0:r.variants)==null?void 0:b.map(y=>y._id)),w&&g([])};return u.useEffect(()=>{const b=l==null?void 0:l.filter(y=>y._id!==a);L(b)},[l,a]),e.jsxs(e.Fragment,{children:[e.jsx(re,{children:"Attributes Values"}),e.jsx(E,{ids:t,setIsCheck:g,title:"Selected Attribute Value(s)"}),e.jsx(ee,{attributes:_,ids:t,title:"Attribute Value(s)",childId:a}),e.jsx(F,{children:e.jsx(I,{id:i})}),e.jsxs(ae,{children:[e.jsx("div",{className:"flex items-center pb-4",children:e.jsxs("ol",{className:"flex items-center w-full overflow-hidden font-serif",children:[e.jsx("li",{className:"text-sm pr-1 transition duration-200 ease-in cursor-pointer hover:text-emerald-500 font-semibold",children:e.jsx(O,{className:"text-blue-700",to:"/attributes",children:"Attributes"})}),e.jsxs("span",{className:"flex items-center font-serif dark:text-gray-400",children:[e.jsxs("li",{className:"text-sm mt-[1px]",children:[" ",e.jsx(z,{})," "]}),e.jsx("li",{className:"text-sm pl-1 font-semibold dark:text-gray-400",children:!n&&f(r==null?void 0:r.title)})]})]})}),e.jsx(s.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsxs(s.CardBody,{className:"py-3 grid gap-4 justify-end lg:gap-4 xl:gap-4 md:flex xl:flex",children:[e.jsx("div",{className:"flex justify-end items-end",children:e.jsxs(s.Button,{onClick:x,className:"rounded-md h-12",children:[e.jsx("span",{className:"mr-3",children:e.jsx(G,{})}),"Add Value"]})}),e.jsx("div",{className:"w-full md:w-24 lg:w-24 xl:w-24",children:e.jsxs(s.Button,{disabled:h.length<1,onClick:()=>o(h),className:"w-full rounded-md h-12",children:[e.jsx(J,{}),"Bulk Action"]})}),e.jsxs(s.Button,{disabled:h.length<1,onClick:()=>j(h),className:"rounded-md h-12 bg-red-500",children:[e.jsx("span",{className:"mr-3",children:e.jsx(K,{})}),"Delete"]})]})})]}),n?e.jsx(se,{loading:n}):p?e.jsx("span",{className:"text-center mx-auto text-red-500",children:p}):(A==null?void 0:A.length)!==0?e.jsxs(s.TableContainer,{className:"mb-8",children:[e.jsxs(s.Table,{children:[e.jsx(s.TableHeader,{children:e.jsxs("tr",{children:[e.jsx(s.TableCell,{children:e.jsx(P,{type:"checkbox",name:"selectAll",id:"selectAll",handleClick:R,isChecked:w})}),e.jsx(s.TableCell,{children:"Id"}),e.jsx(s.TableCell,{children:"Name"}),e.jsx(s.TableCell,{children:"Type"}),e.jsx(s.TableCell,{className:"text-center",children:"Status"}),e.jsx(s.TableCell,{className:"text-right",children:"Actions"})]})}),e.jsx(ie,{att:r,lang:d,loading:n,isCheck:h,setIsCheck:g,childAttributes:N})]}),e.jsx(s.TableFooter,{children:e.jsx(s.Pagination,{totalResults:m,resultsPerPage:c,onChange:V,label:"Table navigation"})})]}):e.jsx(le,{title:"Sorry, There are no attributes right now."})]})};export{We as default};

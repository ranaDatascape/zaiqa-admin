import{e as c,o as z,r as w,S as L,u as F,i as E,j as u,f as m,L as j}from"./index-Cv0MCJep.js";import{e as T}from"./Layout-D-JsJcP2.js";import{s as R}from"./spinner-CkndCogW.js";import{A as q}from"./AdminServices-DHiG2Q7Q.js";import{C as g,a as H,A as p}from"./CustomerServices-RCtKxH8V.js";import{C as S}from"./CouponServices-Bwlwibye.js";import{P as b}from"./ProductServices-8BRK73zt.js";import{u as K}from"./useToggleDrawer-C1UtrQV4.js";import{C as v}from"./CurrencyServices-BK8AbJu1.js";import{n as o,a as y}from"./toast-DkhCIWt5.js";import{u as U}from"./useDisableForDemo-DndbcQrQ.js";const C={getAllMenus:async()=>c.get("/menus/"),getMenuById:async t=>c.get(`/menus/${t}`),addMenu:async t=>c.post("/menus/add",t),updateMenu:async(t,s)=>c.put(`/menus/${t}`,s),updateMenuStatus:async(t,s)=>c.put(`/menus/status/${t}`,s),deleteMenu:async t=>c.delete(`/menus/${t}`),deleteManyMenus:async t=>c.patch("/menus/delete/many",t),getProductByMenu:async t=>c.get(`/menus/products/${t}`)},D={getAllOffers:async()=>c.get("/offer-zone"),getOfferById:async t=>c.get(`/offer-zone/${t}`),addOffer:async t=>c.post("/offer-zone/add",t),updateOffer:async(t,s)=>c.put(`/offer-zone/${t}`,s),updateOfferStatus:async(t,s)=>c.put(`/offer-zone/status/${t}`,s),deleteOffer:async t=>c.delete(`/offer-zone/${t}`),deleteManyOffers:async t=>c.patch("/offer-zone/delete/many",t)},Z=({id:t,ids:s,setIsCheck:i,category:h,title:O,useParamId:$})=>{const{isModalOpen:A,closeModal:a,setIsUpdate:n}=w.useContext(L),{setServiceId:l}=K(),f=F(),[N,r]=w.useState(!1),{handleDisableForDemo:B}=U(),P=async()=>{var x,M;if(!B())try{if(r(!0),f.pathname==="/products")if(s){const e=await b.deleteManyProducts({ids:s});n(!0),o(e.message),i([]),l(),a(),r(!1)}else{const e=await b.deleteProduct(t);n(!0),o(e.message),l(),a(),r(!1)}if(f.pathname==="/coupons")if(s){const e=await S.deleteManyCoupons({ids:s});n(!0),o(e.message),i([]),l(),a(),r(!1)}else{const e=await S.deleteCoupon(t);n(!0),o(e.message),l(),a(),r(!1)}if(f.pathname==="/categories"||h)if(s){const e=await g.deleteManyCategory({ids:s});n(!0),o(e.message),i([]),l(),a(),r(!1)}else{if(t===void 0||!t)return y("Please select a category first!"),r(!1),a();const e=await g.deleteCategory(t);n(!0),o(e.message),a(),l(),r(!1)}else if(f.pathname===`/categories/${$}`||h){if(t===void 0||!t)return y("Please select a category first!"),r(!1),a();const e=await g.deleteCategory(t);n(!0),o(e.message),a(),l(),r(!1)}if(f.pathname==="/customers"){const e=await H.deleteCustomer(t);n(!0),o(e.message),l(),a(),r(!1)}if(f.pathname==="/attributes")if(s){const e=await p.deleteManyAttribute({ids:s});n(!0),o(e.message),i([]),l(),a(),r(!1)}else{const e=await p.deleteAttribute(t);n(!0),o(e.message),l(),a(),r(!1)}if(f.pathname===`/attributes/${f.pathname.split("/")[2]}`)if(s){const e=await p.deleteManyChildAttribute({id:f.pathname.split("/")[2],ids:s});n(!0),o(e.message),l(),i([]),a(),r(!1)}else{const e=await p.deleteChildAttribute({id:t,ids:f.pathname.split("/")[2]});n(!0),o(e.message),l(),a(),r(!1)}if(f.pathname==="/our-staff"){const e=await q.deleteStaff(t);n(!0),o(e.message),l(),a(),r(!1)}if(f.pathname==="/languages")if(s){const e=await j.deleteManyLanguage({ids:s});n(!0),o(e.message),i([]),a(),r(!1)}else{const e=await j.deleteLanguage(t);n(!0),o(e.message),l(),a(),r(!1)}if(f.pathname==="/currencies")if(s){const e=await v.deleteManyCurrency({ids:s});n(!0),o(e.message),i([]),a(),r(!1)}else{const e=await v.deleteCurrency(t);n(!0),o(e.message),l(),a(),r(!1)}if(f.pathname==="/menus")if(s){const e=await C.deleteManyMenus({ids:s});n(!0),o(e.message),i([]),l(),a(),r(!1)}else{const e=await C.deleteMenu(t);n(!0),o(e.message),l(),a(),r(!1)}if(f.pathname==="/offer-zone")if(s){const e=await D.deleteManyOffers({ids:s});n(!0),o(e.message),i([]),l(),a(),r(!1)}else{const e=await D.deleteOffer(t);n(!0),o(e.message),l(),a(),r(!1)}}catch(e){y(e?(M=(x=e==null?void 0:e.response)==null?void 0:x.data)==null?void 0:M.message:e==null?void 0:e.message),l(),i([]),a(),r(!1)}},{t:d}=E();return u.jsx(u.Fragment,{children:u.jsxs(m.Modal,{isOpen:A,onClose:a,children:[u.jsxs(m.ModalBody,{className:"text-center custom-modal px-8 pt-6 pb-4",children:[u.jsx("span",{className:"flex justify-center text-3xl mb-6 text-red-500",children:u.jsx(T,{})}),u.jsxs("h2",{className:"text-xl font-medium mb-2",children:[d("DeleteModalH2")," ",u.jsx("span",{className:"text-red-500",children:O}),"?"]}),u.jsx("p",{children:d("DeleteModalPtag")})]}),u.jsxs(m.ModalFooter,{className:"justify-center",children:[u.jsx(m.Button,{className:"w-full sm:w-auto hover:bg-white hover:border-gray-50",layout:"outline",onClick:a,children:d("modalKeepBtn")}),u.jsx("div",{className:"flex justify-end",children:N?u.jsxs(m.Button,{disabled:!0,type:"button",className:"w-full h-12 sm:w-auto",children:[u.jsx("img",{src:R,alt:"Loading",width:20,height:10})," ",u.jsx("span",{className:"font-serif ml-2 font-light",children:d("Processing")})]}):u.jsx(m.Button,{onClick:P,className:"w-full h-12 sm:w-auto",children:d("modalDeletBtn")})})]})]})})},te=z.memo(Z);export{te as D};

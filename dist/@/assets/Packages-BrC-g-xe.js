import{r as g,S as b,j as e,f as s}from"./index-Cv0MCJep.js";import{A as N}from"./AnimatedContent-f_qjIjlx.js";import{U as v}from"./UploadMany-DBR_b3kP.js";import{D as P,M as C}from"./MainDrawer-D7Kypkxo.js";import{u as y}from"./index.esm-CtzVagC9.js";import{S,f as T}from"./Layout-D-JsJcP2.js";import{L as x}from"./LabelArea-Bb7qUJrU.js";import{R as D}from"./quill.snow-5yXoS7a5.js";import{u as A,a as L}from"./useGetDatas-DUx7WE11.js";import{n as q}from"./toast-DkhCIWt5.js";import"./react-tooltip.min-CdAfhqXP.js";import{P as B}from"./PageTitle-CDKo5HT-.js";import"./exportFromJSON-BvevaQwb.js";import"./iconBase-CHzXLRSI.js";import"./spinner-CkndCogW.js";import"./ProductServices-8BRK73zt.js";/* empty css                      */const I=({refetch:l})=>{const{handleSubmit:r,register:a,setValue:u,reset:h,formState:{isSubmitting:n}}=y(),{closeDrawer:d}=g.useContext(b),p=A(),[i,t]=g.useState(""),c=async o=>{var j;const k={...o,slug:(j=o.name)==null?void 0:j.toLowerCase().replace(/[^A-Z0-9]+/gi,"-")};try{const m=await p.post("/packages/add",k);(m.status===200||m.status===201)&&(q("Package added successfully!"),l(),d(),h())}catch(m){console.error("Error adding package:",m)}},f={toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],[{color:[]},{background:[]}],["blockquote","code-block"],["link","image","video"],["clean"],["custom-check"]]},w=["header","bold","italic","underline","strike","list","bullet","script","indent","align","color","background","blockquote","code-block","link","image","video"];return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("h1",{className:"text-4xl text-center mt-4",children:"Add Package"})}),e.jsx(S,{className:"w-full md:w-12/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200 overflow-auto",children:e.jsx("form",{onSubmit:r(c),children:e.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 mb-6",children:[e.jsx(x,{label:"Package Name"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(s.Input,{...a("name",{required:"Product name is required!"}),name:"name",type:"text",placeholder:"ProductName"})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 mb-6",children:[e.jsx(x,{label:"Package Price"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsx(s.Input,{...a("price",{required:"Package-Price is required!"}),name:"price",type:"text",placeholder:"PackagePrice"})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 mb-6",children:[e.jsx(x,{label:"Package Description"}),e.jsxs("div",{className:"col-span-8 sm:col-span-4 h-full",children:[e.jsx(D,{value:i,modules:f,formats:w,onChange:o=>{t(o),u("description",o)},placeholder:"Write something...",className:"h-[300px]"}),e.jsx("input",{type:"hidden",...a("description"),value:i})]})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 mb-44 mt-32",children:[e.jsx(x,{label:"Status"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsxs("select",{name:"status",...a("status",{required:"Status is required!"}),children:[e.jsx("option",{selected:!0,value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})})]}),e.jsx(P,{title:"Add Package",isSubmitting:n})]})})})]})},E=({PackagesData:l=[],isLoading:r})=>(console.log("Packages List",l),r?e.jsx("h1",{children:"Loading..."}):e.jsx(s.TableBody,{children:l.map(a=>e.jsxs(s.TableRow,{children:[e.jsx(s.TableCell,{className:"font-semibold uppercase text-xs",children:a.id}),e.jsx(s.TableCell,{className:"font-semibold uppercase text-xs",children:a.name}),e.jsx(s.TableCell,{className:"font-semibold uppercase text-xs",children:a.slug}),e.jsx(s.TableCell,{className:"font-semibold uppercase text-xs",children:a.price})]},a.id))})),$=()=>{var i;const{data:l,isLoading:r,refetch:a}=L("/packages","packages"),{toggleDrawer:u,lang:h}=g.useContext(b),[n,d]=g.useState("");if(console.log(l),r)return e.jsx("h1",{children:"Loading..."});const p=(i=l==null?void 0:l.data)==null?void 0:i.filter(t=>Object.values(t).some(c=>c==null?void 0:c.toString().toLowerCase().includes(n.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:"Packages List"}),e.jsx(C,{children:e.jsx(I,{refetch:a})}),e.jsxs(N,{children:[e.jsxs(s.Card,{className:"min-w-0 shadow-xs flex justify-between items-center overflow-hidden bg-white dark:bg-gray-800 mb-5",children:[e.jsx(s.CardBody,{className:"flex gap-96",children:e.jsx(v,{title:"Package",exportData:l})}),e.jsx("div",{className:"w-full md:w-48 lg:w-48 xl:w-48",children:e.jsxs(s.Button,{onClick:u,className:"w-full rounded-md h-12 ",children:[e.jsx("span",{className:"mr-2",children:e.jsx(T,{})}),"Add Package"]})})]}),e.jsx(s.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsxs(s.CardBody,{className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:[e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(s.Input,{type:"search",placeholder:"Search Booking...",value:n,onChange:t=>d(t.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"flex items-center gap-2 flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx("div",{className:"w-1/3",children:e.jsx(s.Button,{onClick:()=>d(""),type:"submit",className:"h-12 w-full bg-emerald-700",children:"Reset"})})})]})}),e.jsx(s.TableContainer,{children:e.jsxs(s.Table,{children:[e.jsx(s.TableHeader,{children:e.jsxs("tr",{children:[e.jsxs(s.TableCell,{children:["Id"," "]}),e.jsx(s.TableCell,{children:"NAME"}),e.jsx(s.TableCell,{children:"SLUG"}),e.jsx(s.TableCell,{children:"PRICE"})]})}),e.jsx(E,{PackagesData:p,isLoading:r})]})})]})]})};export{$ as default};

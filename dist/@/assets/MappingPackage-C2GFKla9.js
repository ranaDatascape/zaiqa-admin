import{r as h,S as y,j as e,f as s}from"./index-Cv0MCJep.js";import{A as S}from"./AnimatedContent-f_qjIjlx.js";import{U as C}from"./UploadMany-DBR_b3kP.js";import{D as P,M as T}from"./MainDrawer-D7Kypkxo.js";import{a as j,u as D}from"./useGetDatas-DUx7WE11.js";import{n as L,a as I}from"./toast-DkhCIWt5.js";import{u as A}from"./index.esm-CtzVagC9.js";import{S as q,f as M}from"./Layout-D-JsJcP2.js";import{L as g}from"./LabelArea-Bb7qUJrU.js";import{P as B}from"./PageTitle-CDKo5HT-.js";import"./exportFromJSON-BvevaQwb.js";import"./iconBase-CHzXLRSI.js";import"./spinner-CkndCogW.js";import"./ProductServices-8BRK73zt.js";/* empty css                      */const F=({refetch:r})=>{var f,b;const{handleSubmit:x,register:a,setValue:m,reset:p,formState:{isSubmitting:l}}=A(),{closeDrawer:i}=h.useContext(y),u=D(),{data:c,isLoadingDetails:d}=j("/packages","packages"),{data:o,isLoading:v}=j("/products/lunchbox/all","Lunchbox Products"),k=async n=>{var w,N;try{const t=await u.post("/package-mapping/add",n);console.log(t),(t.status===201||t.status===200)&&(L("Package Mapping Added Successfully"),i(),p(),r())}catch(t){I((N=(w=t==null?void 0:t.response)==null?void 0:w.data)==null?void 0:N.message)}};return v||d?e.jsx("h1",{children:"Loading..."}):e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsx("h1",{className:"text-4xl text-center mt-4",children:"Add Package"})}),e.jsx(q,{className:"w-full md:w-12/12 lg:w-8/12 xl:w-8/12 relative dark:bg-gray-700 dark:text-gray-200 overflow-auto",children:e.jsx("form",{onSubmit:x(k),children:e.jsxs("div",{className:"px-6 pt-8 flex-grow scrollbar-hide w-full max-h-full",children:[e.jsxs("div",{className:"grid grid-cols-6 gap-3 mb-6",children:[e.jsx(g,{label:"Package Name"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",name:"packageId",...a("packageId",{required:"Name is required!"}),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:"Select PackagesName"}),(f=c==null?void 0:c.data)==null?void 0:f.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 mb-6",children:[e.jsx(g,{label:"Product Name"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",name:"productId",...a("productId",{required:"Product is required!"}),children:[e.jsx("option",{value:"",defaultValue:!0,hidden:!0,children:"Select Product Name"}),(b=o==null?void 0:o.data)==null?void 0:b.map(n=>e.jsx("option",{value:n.id,children:n.productName},n.id))]})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 mb-6",children:[e.jsx(g,{label:"Package Days"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",name:"packageDays",...a("packageDays",{required:"Package-Days is required!"}),children:[e.jsx("option",{value:"",hidden:!0,children:"Select Packages Days"}),e.jsx("option",{value:"1",children:"Saturday"}),e.jsx("option",{value:"2",children:"Sunday"}),e.jsx("option",{value:"3",children:"Monday"}),e.jsx("option",{value:"4",children:"Tuesday"}),e.jsx("option",{value:"5",children:"Wednesday"}),e.jsx("option",{value:"6",children:"Thursday"})]})})]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3 mb-44 mt-32",children:[e.jsx(g,{label:"Status"}),e.jsx("div",{className:"col-span-8 sm:col-span-4",children:e.jsxs("select",{className:"w-full p-2 border border-gray-300 rounded-md",name:"status",...a("status",{required:"Status is required!"}),children:[e.jsx("option",{selected:!0,value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"})]})})]}),e.jsx(P,{title:"Package Mapping",isSubmitting:l})]})})})]})},E=({PackagesMappingData:r,isLoading:x})=>x?e.jsx("h1",{children:"Loading..."}):e.jsx(s.TableBody,{children:r==null?void 0:r.map((a,m)=>{var p;return(p=a==null?void 0:a.products)==null?void 0:p.map((l,i)=>{var u,c,d;return e.jsxs(s.TableRow,{children:[i===0?e.jsxs(e.Fragment,{children:[e.jsx(s.TableCell,{rowSpan:a.products.length,children:e.jsx("span",{className:"font-semibold uppercase text-xs",children:(u=a==null?void 0:a.packageInfo)==null?void 0:u.id})}),e.jsx(s.TableCell,{rowSpan:a.products.length,children:e.jsx("span",{className:"font-semibold uppercase text-xs",children:(c=a==null?void 0:a.packageInfo)==null?void 0:c.name})})]}):null,e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:(d=l==null?void 0:l.product)==null?void 0:d.productName})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:l==null?void 0:l.day})}),e.jsx(s.TableCell,{children:e.jsx("span",{className:"text-sm",children:l==null?void 0:l.status})})]},`${m}-${i}`)})})}),_=()=>{var c;const{data:r,isLoading:x,refetch:a}=j("/package-mapping/getall","packages-mapping"),{toggleDrawer:m,lang:p}=h.useContext(y),[l,i]=h.useState("");if(console.log(r),x)return e.jsx("h1",{children:"Loading..."});const u=(c=r==null?void 0:r.data)==null?void 0:c.filter(d=>Object.values(d).some(o=>o==null?void 0:o.toString().toLowerCase().includes(l.toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx(B,{children:"Packages Mapping List"}),e.jsx(T,{children:e.jsx(F,{refetch:a})}),e.jsxs(S,{children:[e.jsxs(s.Card,{className:"min-w-0 shadow-xs flex justify-between items-center overflow-hidden bg-white dark:bg-gray-800 mb-5",children:[e.jsx(s.CardBody,{className:"flex gap-96",children:e.jsx(C,{title:"Package",exportData:r})}),e.jsx("div",{className:"w-full md:w-48 lg:w-48 xl:w-48",children:e.jsxs(s.Button,{onClick:m,className:"w-full rounded-md h-12 ",children:[e.jsx("span",{className:"mr-2",children:e.jsx(M,{})}),"Add Mapping"]})})]}),e.jsx(s.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:e.jsxs(s.CardBody,{className:"py-3 grid gap-4 lg:gap-6 xl:gap-6 md:flex xl:flex",children:[e.jsx("div",{className:"flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx(s.Input,{type:"search",placeholder:"Search Booking...",value:l,onChange:d=>i(d.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),e.jsx("div",{className:"flex items-center gap-2 flex-grow-0 md:flex-grow lg:flex-grow xl:flex-grow",children:e.jsx("div",{className:"w-1/3",children:e.jsx(s.Button,{onClick:()=>i(""),type:"submit",className:"h-12 w-full bg-emerald-700",children:"Reset"})})})]})}),e.jsx(s.TableContainer,{children:e.jsxs(s.Table,{children:[e.jsx(s.TableHeader,{children:e.jsxs("tr",{children:[e.jsxs(s.TableCell,{children:["Id"," "]}),e.jsx(s.TableCell,{children:"Package Name"}),e.jsx(s.TableCell,{children:"Product Name"}),e.jsx(s.TableCell,{children:"Package Days"}),e.jsx(s.TableCell,{children:"Status"})]})}),e.jsx(E,{PackagesMappingData:u,isLoading:x})]})})]})]})};export{_ as default};

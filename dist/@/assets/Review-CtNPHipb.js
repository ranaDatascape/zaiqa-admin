import{j as s,f as l,r as x}from"./index-Cv0MCJep.js";import{P as h}from"./PageTitle-CDKo5HT-.js";import{u,a as m}from"./useGetDatas-DUx7WE11.js";import{n as i,a as j}from"./toast-DkhCIWt5.js";import{A as p}from"./AnimatedContent-f_qjIjlx.js";/* empty css                      */const b=({id:e,review:a})=>{const t=u(),o=async(c,d)=>{var r;try{const n=await t.put(`/review/status/${c}`,{status:d});console.log(n.status),(n==null?void 0:n.status)===200&&(i((r=n==null?void 0:n.data)==null?void 0:r.message),window.location.reload())}catch(n){j(n.message)}};return s.jsx(s.Fragment,{children:s.jsxs(l.Select,{onChange:c=>o(e,c.target.value),className:"h-8",children:[s.jsx("option",{value:"status",defaultValue:!0,hidden:!0,children:a==null?void 0:a.status}),s.jsx("option",{defaultValue:(a==null?void 0:a.status)==="Approved",value:"Approved",children:"Approved"}),s.jsx("option",{defaultValue:(a==null?void 0:a.status)==="Pending",value:"Pending",children:"Pending"}),s.jsx("option",{defaultValue:(a==null?void 0:a.status)==="Rejected",value:"Rejected",children:"Rejected"})]})})},f=({reviewData:e,isLoading:a})=>a?s.jsx(l.TableRow,{children:s.jsx(l.TableCell,{colSpan:7,children:s.jsx("div",{className:"text-center",children:"Loading..."})})}):(console.log(e),s.jsx(s.Fragment,{children:s.jsx(l.TableBody,{children:e==null?void 0:e.map((t,o)=>{var c,d;return s.jsxs(l.TableRow,{children:[s.jsx(l.TableCell,{children:s.jsx("span",{className:"text-sm",children:o+1})}),s.jsx(l.TableCell,{children:s.jsx("span",{className:"text-sm font-medium",children:(c=t==null?void 0:t.user)==null?void 0:c.name})}),s.jsx(l.TableCell,{children:s.jsx("span",{className:"text-sm font-medium",children:(d=t==null?void 0:t.product)==null?void 0:d.productName})}),s.jsx(l.TableCell,{children:s.jsx("teaxtarea",{className:"text-sm font-medium",children:t==null?void 0:t.comment})}),s.jsx(l.TableCell,{children:s.jsx("span",{className:"text-sm font-medium",children:t==null?void 0:t.status})}),s.jsx(l.TableCell,{children:s.jsx(b,{id:t==null?void 0:t.id,review:t})})]},o)})})})),S=()=>{const{data:e,isLoading:a}=m("/review","all-review"),[t,o]=x.useState(""),c=e==null?void 0:e.filter(d=>Object.values(d).some(r=>r==null?void 0:r.toString().toLowerCase().includes(t.toLowerCase())));return s.jsxs(s.Fragment,{children:[s.jsx(h,{children:"Review"}),s.jsx(p,{children:s.jsx(l.Card,{className:"min-w-0 shadow-xs overflow-hidden bg-white dark:bg-gray-800 mb-5",children:s.jsx(l.CardBody,{children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsx("div",{className:"w-full md:w-1/2",children:s.jsx(l.Input,{type:"text",placeholder:"Search offers...",value:t,onChange:d=>o(d.target.value)})})})})})}),s.jsx(l.TableContainer,{children:s.jsxs(l.Table,{children:[s.jsx(l.TableHeader,{children:s.jsxs("tr",{children:[s.jsx(l.TableCell,{children:"ID"}),s.jsx(l.TableCell,{children:"UserName"}),s.jsx(l.TableCell,{children:"ProductName"}),s.jsx(l.TableCell,{children:"Review"}),s.jsx(l.TableCell,{children:"Status"}),s.jsx(l.TableCell,{children:"Actions"})]})}),s.jsx(f,{reviewData:c,isLoading:a})]})})]})};export{S as default};
